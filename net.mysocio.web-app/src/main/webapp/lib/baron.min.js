/*! baron 03-04-2013 */
(function(e,t){"use strict";if(e!==t){var o=[],s=e.baron,n=e.jQuery,i={vertical:{x:"Y",pos:"top",crossPos:"left",size:"height",crossSize:"width",client:"clientHeight",crossClient:"clientWidth",offset:"offsetHeight",crossOffset:"offsetWidth",offsetPos:"offsetTop",scroll:"scrollTop",scrollSize:"scrollHeight"},horizontal:{x:"X",pos:"left",crossPos:"top",size:"width",crossSize:"height",client:"clientWidth",crossClient:"clientHeight",offset:"offsetWidth",crossOffset:"offsetHeight",offsetPos:"offsetLeft",scroll:"scrollLeft",scrollSize:"scrollWidth"}},r=function(e){var t;return e=e||{},e.scroller=e.scroller||this,t=new l(e),t.u(),o.push(t),t};r.u=function(){for(var e=0;o.length>e;e++)o[e].u()},r.noConflict=function(){return e.baron=s,r},r.version="0.4";var l=function(o){var s,l,c,f;if(l=o.selector||n,l&&(s=o.event||function(e,t,o,s){n(e)[s||"on"](t,o)},(o.event||n)&&(c=o.dom||n,c&&(f=l(o.scroller))))){f[0]||(f=[f]),r.init=function(o){function n(){o.barOnCls&&(N[E.client]<N[E.scrollSize]?c(N).addClass(o.barOnCls):c(N).removeClass(o.barOnCls))}function r(e){var t=o.barMinSize||20;e>0&&t>e&&(e=t),c(O).css(E.size,e+"px")}function f(e){c(O).css(E.pos,e+"px")}function a(){return W[E.client]-O[E.offset]}function u(e){return e*a()}function h(e){return e/a()}function d(){return!1}function p(e){s(document,"selectpos",d,e?"off":"on")}function v(e){try{T=document.createEvent("WheelEvent"),T.initWebKitWheelEvent(e.originalEvent.wheelDeltaX,e.originalEvent.wheelDeltaY),N.dispatchEvent(T),e.preventDefault()}catch(e){}}function C(e,s){(o.viewMinSize||0)>x&&(s=t),s!==t?(s+="px",c(b[e]).css(E.pos,s).addClass(B)):c(b[e]).css(E.pos,"").removeClass(B)}function m(e){if(c(N).css(E.crossSize,N.parentNode[E.crossClient]+N[E.crossOffset]-N[E.crossClient]+"px"),x=N[E.client],e&&(w=[]),D=[],S=[],b=l(o.header,N)){for(e&&(s(b,"mousewheel",v,"off"),s(b,"mousewheel",v)),T=0;b.length>T;T++)S[T]=S[T-1]||0,b[T-1]&&(S[T]+=b[T-1][E.offset]),H={},H[E.size]=b[T][E.offset],c(b[T].parentNode).css(H),H={},H[E.crossSize]=b[T].parentNode[E.crossClient],c(b[T]).css(H),x-=b[T][E.offset],w[T]=b[T].parentNode[E.offsetPos];o.trackSmartLim&&(H={},H[E.pos]=b[0].parentNode[E.offset],c(W).css(H))}}function g(){var e,s,n,i,l;if(n=W[E.client]*N[E.client]/N[E.scrollSize],s!=n&&(r(n),s=n),e=-(N["page"+E.x+"Offset"]||N[E.scroll]),A=u(-e/(N[E.scrollSize]-N[E.client])),f(A),b){var a;for(T=0;b.length>T;T++)l=0,w[T]+e<S[T]+P?(l=1,i=S[T]):w[T]+e>S[T]+x-P?(l=2,i=S[T]+x):(l=3,i=t),l!=D[T]&&(C(T,i),D[T]=l,a=!0);if(a)for(T=0;b.length>T;T++)D[T]!=D[T+1]&&1==D[T]&&o.hBeforeFixCls?c(b[T]).addClass(o.hBeforeFixCls).removeClass(o.hAfterFixCls+""):D[T]!=D[T-1]&&2==D[T]&&o.hAfterFixCls?c(b[T]).addClass(o.hAfterFixCls).removeClass(o.hBeforeFixCls+""):c(b[T]).removeClass(o.hBeforeFixCls+"").removeClass(o.hAfterFixCls+"")}}function z(){clearTimeout(F),F=setTimeout(function(){m(),g(),n()},200)}var b,x,w,S,F,O,W,A,B,E,N,_,y,H,P,T,D=[];return N=o.scroller,this._barOn=n,this._uView=m,this._uBar=g,o.bar?O=l(o.bar,N)[0]:(O=l("*",N),O=O[O.length-1]),W=l(o.track,N)[0],W=W||O.parentNode,N&&O?(N.setAttribute("data-baron","inited"),E=i.vertical,o.h&&(E=i.horizontal),P=o.fixRadius||0,B=o.hFixCls,s(N,"scroll",g),s(O,"mousedown",function(e){e.preventDefault(),p(),_=1}),s(document,"mouseup blur",function(){p(1),_=0}),s(document,"mousedown",function(e){2!=e.button&&(y=e.clientY-A)}),s(document,"mousemove",function(e){_&&(N.scrollTop=h(e.clientY-y)*(N[E.scrollSize]-N[E.client]))}),s(e,"resize",z),s(N,"sizeChange",z),s(O,"mousewheel",v),W!=N&&s(W,"mousewheel",v),this):t},r.init.prototype.update=function(){this._uView(1),this._uBar(),this._barOn()};for(var a=0;f.length>a;a++)f[a].getAttribute("data-baron")?s(f[a],"sizeChange",t,"trigger"):(o.scroller=f[a],this[a]=new r.init(o));return this}};l.prototype.u=function(){for(var e=-1;this[++e];)this[e].update()},n&&n.fn&&(n.fn.baron=r),"undefined"!=typeof module&&module.exports?module.exports=r:e.baron=r}})(window);